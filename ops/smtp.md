# ꯅꯍꯥꯛꯀꯤ ꯏꯁꯥꯒꯤ SMTP ꯃꯦꯏꯜ ꯊꯥꯕꯥ ꯁꯔꯚꯔ ꯑꯃꯥ ꯁꯦꯝꯃꯨ꯫

## ꯄ꯭ꯔꯤꯝꯕꯤꯕꯜ ꯇꯧꯕꯥ꯫

SMTPꯅꯥ ꯀ꯭ꯂꯥꯎꯗ ꯚꯦꯟꯗꯔꯁꯤꯡꯗꯒꯤ ꯍꯀꯊꯦꯡꯅꯅꯥ ꯁꯔꯚꯤꯁꯁꯤꯡ ꯂꯧꯕꯥ ꯌꯥꯏ, ꯃꯈꯣꯌ ꯑꯗꯨꯗꯤ:

* [ꯑꯦꯃꯥꯖꯣꯟ ꯑꯦꯁ.ꯏ.ꯑꯦꯁ.ꯑꯦꯁ.ꯑꯦꯝ.ꯇꯤ.ꯄꯤ](https://docs.aws.amazon.com/ses/latest/dg/send-email-smtp.html)
* [ꯑꯂꯤ ꯀ꯭ꯂꯥꯎꯗ ꯏꯃꯦꯜ ꯄꯨꯁ꯫](https://www.alibabacloud.com/help/directmail/latest/three-mail-sending-methods)

ꯅꯍꯥꯛꯅꯥ ꯅꯍꯥꯛꯀꯤ ꯏꯁꯥꯒꯤ ꯃꯦꯜ ꯁꯔꯚꯔꯁꯨ ꯁꯦꯝꯕꯥ ꯌꯥꯏ - ꯂꯤꯃꯤꯠ ꯂꯩꯇꯕꯥ ꯊꯥꯕꯥ, ꯑꯄꯨꯅꯕꯥ ꯃꯃꯜ ꯅꯦꯝꯕꯥ꯫

ꯃꯈꯥꯗꯥ, ꯑꯩꯈꯣꯌꯅꯥ ꯑꯩꯈꯣꯌꯒꯤ ꯏꯁꯥꯒꯤ ꯃꯦꯜ ꯁꯔꯚꯥꯔ ꯀꯔꯝꯅꯥ ꯁꯦꯃꯒꯠꯀꯗꯒꯦ ꯍꯥꯌꯕꯗꯨ ꯈꯣꯡꯊꯥꯡ ꯈꯨꯗꯤꯡꯒꯤ ꯎꯠꯂꯤ꯫

## ꯁꯔꯚꯔ ꯈꯅꯕꯒꯤ ꯃꯑꯣꯡ꯫

ꯁꯦꯂꯐ-ꯍꯣꯁ꯭ꯠ ꯇꯧꯔꯕꯥ SMTP ꯁꯔꯚꯔ ꯑꯁꯤꯅꯥ ꯄꯣꯔꯠ 25, 456, ꯑꯃꯁꯨꯡ 587 ꯍꯥꯡꯗꯣꯀꯄꯥ ꯄꯕ꯭ꯂꯤꯛ IP ꯑꯃꯥ ꯃꯊꯧ ꯇꯥꯏ꯫

ꯃꯍꯧꯁꯥꯅꯥ ꯁꯤꯖꯤꯟꯅꯕꯥ ꯄꯕ꯭ꯂꯤꯛ ꯀ꯭ꯂꯥꯎꯗꯁꯤꯡꯅꯥ ꯄꯣꯔꯇꯁꯤꯡ ꯑꯁꯤ ꯗꯤꯐꯣꯜꯇ ꯑꯣꯏꯅꯥ ꯕ꯭ꯂꯣꯛ ꯇꯧꯈ꯭ꯔꯦ, ꯑꯃꯁꯨꯡ ꯃꯈꯣꯌ ꯑꯁꯤ ꯋꯥꯔꯛ ꯑꯣꯔꯗꯔ ꯑꯃꯥ ꯄꯤꯗꯨꯅꯥ ꯍꯥꯡꯗꯣꯀꯄꯥ ꯌꯥꯏ, ꯑꯗꯨꯕꯨ ꯃꯁꯤ ꯄꯨꯝꯅꯃꯛ ꯑꯁꯤꯒꯤ ꯃꯇꯨꯡꯗꯥ ꯌꯥꯝꯅꯥ ꯑꯋꯥꯕꯥ ꯑꯃꯅꯤ꯫

ꯄꯣꯔꯇꯁꯤꯡ ꯑꯁꯤ ꯍꯥꯡꯗꯣꯀꯄꯥ ꯑꯃꯁꯨꯡ ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯟ ꯅꯦꯃꯁꯤꯡ ꯁꯦꯠ ꯇꯧꯕꯗꯥ ꯁꯄꯣꯔꯠ ꯇꯧꯕꯥ ꯍꯣꯁ꯭ꯠ ꯑꯃꯗꯒꯤ ꯂꯧꯕꯥ ꯑꯩꯅꯥ ꯇꯀꯁꯤꯜꯂꯤ꯫

ꯃꯐꯝ ꯑꯁꯤꯗꯥ, ꯑꯩꯍꯥꯛꯅꯥ [ꯀꯟꯇꯥꯕꯣ](https://contabo.com) .

ꯀꯟꯇꯥꯕꯣ ꯑꯁꯤ ꯖꯔꯃꯅꯤꯒꯤ ꯃ꯭ꯌꯨꯅꯤꯈꯇꯥ ꯂꯩꯕꯥ ꯍꯣꯁ꯭ꯇꯤꯡ ꯄ꯭ꯔꯣꯚꯥꯏꯗꯔ ꯑꯃꯅꯤ, ꯃꯁꯤ ꯲꯰꯰꯳ꯗꯥ ꯌꯥꯝꯅꯥ ꯀꯝꯄꯤꯇꯤꯇꯤꯕ ꯑꯣꯏꯕꯥ ꯃꯃꯂꯗꯥ ꯂꯤꯡꯈꯠꯈꯤ꯫

ꯀꯔꯤꯒꯨꯝꯕꯥ ꯅꯍꯥꯛꯅꯥ ꯌꯨꯔꯣ ꯑꯁꯤ ꯌꯣꯅꯕꯥ ꯁꯦꯅꯐꯃ ꯑꯣꯏꯅꯥ ꯈꯜꯂꯕꯗꯤ, ꯃꯃꯜ ꯑꯗꯨ ꯍꯦꯟꯅꯥ ꯁꯦꯟꯗꯣꯡ ꯂꯩꯒꯅꯤ (8GB ꯃꯦꯃꯣꯔꯤ ꯑꯃꯁꯨꯡ 4 CPU ꯂꯩꯕꯥ ꯁꯔꯚꯔ ꯑꯃꯗꯥ ꯆꯍꯤ ꯑꯃꯗꯥ ꯆꯥꯎꯔꯥꯛꯅꯥ ꯌꯨꯌꯥꯟ 529 ꯆꯪꯏ, ꯑꯃꯁꯨꯡ ꯑꯍꯥꯅꯕꯥ ꯏꯅꯁ꯭ꯇꯣꯂꯦꯁꯅꯒꯤ ꯐꯤ ꯑꯁꯤ ꯆꯍꯤ ꯑꯃꯒꯤ ꯑꯣꯏꯅꯥ ꯐ꯭ꯔꯤ ꯑꯣꯏꯒꯅꯤ)꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/UoAQkwY.webp)

ꯑꯣꯔꯗꯔ ꯑꯃꯥ ꯄꯤꯕꯥ ꯃꯇꯃꯗꯥ, ꯔꯤꯃꯥꯔꯛ ꯇꯧꯕꯤꯌꯨ `prefer AMD` , ꯑꯃꯁꯨꯡ AMD CPU ꯂꯩꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯅꯥ ꯍꯦꯟꯅꯥ ꯐꯕꯥ ꯄꯔꯐꯣꯃꯦꯟꯁ ꯂꯩꯒꯅꯤ꯫

ꯃꯈꯥꯗꯥ, ꯑꯩꯅꯥ ꯀꯟꯇꯥꯕꯣꯒꯤ VPS ꯑꯁꯤ ꯈꯨꯗꯝ ꯑꯣꯏꯅꯥ ꯂꯧꯗꯨꯅꯥ ꯅꯍꯥꯛꯀꯤ ꯏꯁꯥꯒꯤ ꯃꯦꯜ ꯁꯔꯚꯔ ꯑꯁꯤ ꯀꯔꯝꯅꯥ ꯁꯦꯃꯒꯗꯒꯦ ꯍꯥꯌꯕꯗꯨ ꯎꯠꯀꯅꯤ꯫

## ꯎꯕꯨꯟꯇꯨ ꯁꯤꯁ꯭ꯇꯦꯝ ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯇꯧꯕꯥ꯫

ꯃꯐꯝ ꯑꯁꯤꯗꯥ ꯂꯩꯔꯤꯕꯥ ꯑꯣꯄꯔꯦꯇꯤꯡ ꯁꯤꯁ꯭ꯇꯦꯝ ꯑꯁꯤ ꯎꯕꯨꯟꯇꯨ ꯲꯲.꯰꯴ꯅꯤ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/smpIu1F.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/m7Mwjwr.webp)

ꯀꯔꯤꯒꯨꯝꯕꯥ sshꯗꯥ ꯂꯩꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯅꯥ `Welcome to TinyCore 13!` (ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯐꯤꯒꯔ ꯑꯁꯤꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯇꯨꯡ ꯏꯟꯅꯥ), ꯃꯁꯤꯅꯥ ꯁꯤꯁ꯭ꯇꯦꯝ ꯑꯁꯤ ꯍꯧꯖꯤꯛ ꯐꯥꯑꯣꯕꯥ ꯏꯅꯁ꯭ꯇꯣꯜ ꯇꯧꯗ꯭ꯔꯤ ꯍꯥꯌꯕꯅꯤ꯫ ꯆꯥꯅꯕꯤꯗꯨꯅꯥ ssh ꯗꯤꯁꯀꯅꯦꯛꯇ ꯇꯧꯕꯤꯌꯨ ꯑꯃꯁꯨꯡ ꯑꯃꯨꯛ ꯍꯟꯅꯥ ꯂꯣꯒ ꯏꯟ ꯇꯧꯅꯕꯥ ꯃꯤꯅꯤꯠ ꯈꯔꯅꯤ ꯉꯥꯏꯕꯤꯌꯨ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/-qKACz9.webp)

`Welcome to Ubuntu 22.04.1 LTS` ꯑꯣꯀꯄꯥ ꯃꯇꯃꯗꯥ, ꯏꯅꯤꯁꯤꯑꯦꯂꯥꯏꯖꯦꯁꯟ ꯑꯗꯨ ꯃꯄꯨꯡ ꯐꯥꯔꯦ, ꯑꯃꯁꯨꯡ ꯅꯍꯥꯛꯅꯥ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯁ꯭ꯇꯦꯄꯁꯤꯡ ꯑꯁꯤ ꯃꯈꯥ ꯆꯠꯊꯕꯥ ꯌꯥꯏ꯫

### [ꯑꯣꯄꯁꯅꯦꯜ] ꯗꯤꯚꯦꯂꯄꯃꯦꯟꯇꯒꯤ ꯑꯀꯣꯌꯔꯣꯟ ꯑꯗꯨ ꯏꯅꯤꯁꯤꯑꯦꯂꯥꯏꯖ ꯇꯧꯕꯥ꯫

ꯈꯣꯡꯊꯥꯡ ꯑꯁꯤ ꯑꯣꯄꯁꯅꯦꯜ ꯑꯣꯏ꯫

ꯈꯨꯗꯣꯡꯆꯥꯅꯕꯒꯤꯗꯃꯛ, ꯑꯩꯅꯥ ꯎꯕꯨꯟꯇꯨ ꯁꯣꯐ꯭ꯇꯋꯦꯔꯒꯤ ꯏꯅꯁ꯭ꯇꯣꯂꯦꯁꯟ ꯑꯃꯁꯨꯡ ꯁꯤꯁ꯭ꯇꯦꯝ ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯑꯗꯨ [github.com/wactax/ops.os/tree/main/ubuntu](https://github.com/wactax/ops.os/tree/main/ubuntu) ꯗꯥ ꯊꯃꯈꯤ꯫

ꯀ꯭ꯂꯤꯛ ꯑꯃꯈꯛꯇꯪꯗꯥ ꯏꯅꯁ꯭ꯇꯣꯜ ꯇꯧꯅꯕꯥ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯀꯃꯥꯟꯗ ꯑꯁꯤ ꯔꯟ ꯇꯧꯔꯣ.

```
bash <(curl -s https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

ꯆꯥꯏꯅꯥꯒꯤ ꯌꯨꯖꯔꯁꯤꯡꯅꯥ, ꯆꯥꯅꯕꯤꯗꯨꯅꯥ ꯃꯗꯨꯒꯤ ꯃꯍꯨꯠꯇꯥ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯀꯃꯥꯟꯗ ꯑꯁꯤ ꯁꯤꯖꯤꯟꯅꯕꯤꯌꯨ, ꯑꯃꯁꯨꯡ ꯂꯣꯜ, ꯇꯥꯏꯝ ꯖꯣꯟ ꯑꯁꯤꯅꯆꯤꯡꯕꯥ ꯑꯁꯤ ꯃꯁꯥ ꯃꯊꯟꯇꯥ ꯁꯦꯠ ꯇꯧꯒꯅꯤ꯫

```
CN=1 bash <(curl -s https://ghproxy.com/https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

### ꯀꯟꯇꯥꯕꯣꯅꯥ ꯑꯥꯏ.ꯄꯤ.ꯚꯤ.꯶ ꯏꯅꯦꯕꯜ ꯇꯧꯏ꯫

SMTPꯅꯥ IPV6 ꯑꯦꯗ꯭ꯔꯦꯁꯁꯤꯡꯒꯥ ꯂꯣꯌꯅꯅꯥ ꯏꯃꯦꯏꯂꯁꯤꯡꯁꯨ ꯊꯥꯕꯥ ꯌꯥꯅꯕꯥ IPV6 ꯏꯅꯦꯕꯜ ꯇꯧ꯫

`/etc/sysctl.conf` ꯑꯦꯗꯤꯠ ꯇꯧꯕꯥ꯫

ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯂꯥꯏꯅꯁꯤꯡ ꯑꯁꯤ ꯃꯣꯗꯤꯐꯥꯏ ꯇꯧꯕꯥ ꯅꯠꯠꯔꯒꯥ ꯍꯥꯄꯆꯤꯅꯕꯥ꯫

```
net.ipv6.conf.all.disable_ipv6 = 0
net.ipv6.conf.default.disable_ipv6 = 0
net.ipv6.conf.lo.disable_ipv6 = 0
```

[contabo ꯇꯤꯎꯇꯣꯔꯤꯌꯥꯂꯒꯥ ꯂꯣꯌꯅꯅꯥ ꯐꯣꯂꯣ ꯑꯞ ꯇꯧꯕꯤꯌꯨ: ꯅꯍꯥꯛꯀꯤ ꯁꯔꯚꯔꯗꯥ IPv6 ꯀꯅꯦꯛꯇꯤꯚꯤꯇꯤ ꯍꯥꯄꯆꯤꯅꯕꯥ꯫](https://contabo.com/blog/adding-ipv6-connectivity-to-your-server/)

`/etc/netplan/01-netcfg.yaml` ꯑꯦꯗꯤꯠ ꯇꯧꯕꯤꯌꯨ, ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯐꯤꯒꯔ ꯑꯁꯤꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯇꯨꯡ ꯏꯟꯅꯥ ꯂꯥꯏꯟ ꯈꯔꯥ ꯍꯥꯄꯆꯤꯜꯂꯨ (ꯀꯟꯇꯦꯕꯣ VPS ꯗꯤꯐꯣꯜꯇ ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯐꯥꯏꯂꯗꯥ ꯍꯥꯟꯅꯅꯥ ꯂꯥꯏꯅꯁꯤꯡ ꯑꯁꯤ ꯂꯩꯔꯦ, ꯃꯈꯣꯌꯕꯨ ꯑꯅꯀꯃꯦꯟꯇ ꯇꯧꯕꯤꯌꯨ)꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/5MEi41I.webp)

ꯃꯗꯨꯒꯤ ꯃꯇꯨꯡꯗꯥ ꯃꯣꯗꯤꯐꯥꯏꯗ ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯑꯗꯨ ꯏꯐꯦꯛꯇꯤꯚ ꯑꯣꯏꯍꯟꯅꯕꯥ `netplan apply`

ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯑꯗꯨ ꯃꯥꯌ ꯄꯥꯛꯂꯕꯥ ꯃꯇꯨꯡꯗꯥ, ꯅꯍꯥꯛꯀꯤ ꯃꯄꯥꯅꯒꯤ ꯅꯦꯇꯋꯥꯔꯀꯀꯤ ipv6 ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨ ꯌꯦꯡꯅꯕꯒꯤꯗꯃꯛ `curl 6.ipw.cn` ꯁꯤꯖꯤꯟꯅꯕꯥ ꯌꯥꯏ꯫

## ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯔꯤꯄꯣꯖꯤꯇꯔꯤ ꯑꯣꯄꯁꯅꯁꯤꯡ ꯀ꯭ꯂꯣꯟ ꯇꯧꯔꯣ꯫

```
git clone https://github.com/wactax/ops.soft.git
```

## ꯅꯍꯥꯛꯀꯤ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯃꯒꯤꯗꯃꯛ ꯐ꯭ꯔꯤ SSL ꯁꯔꯇꯤꯐꯤꯀꯦꯠ ꯑꯃꯥ ꯖꯦꯅꯦꯔꯦꯠ ꯇꯧ꯫

ꯃꯦꯏꯜ ꯊꯥꯕꯗꯥ ꯑꯦꯅꯛꯔꯤꯄꯁꯟ ꯑꯃꯁꯨꯡ ꯁꯥꯏꯟ ꯇꯧꯅꯕꯒꯤꯗꯃꯛ SSL ꯁꯔꯇꯤꯐꯤꯀꯦꯠ ꯑꯃꯥ ꯃꯊꯧ ꯇꯥꯏ꯫

ꯁꯔꯇꯤꯐꯤꯀꯦꯠꯁꯤꯡ ꯁꯦꯝꯅꯕꯥ ꯑꯩꯈꯣꯌꯅꯥ [acme.sh](https://github.com/acmesh-official/acme.sh) ꯁꯤꯖꯤꯟꯅꯩ꯫

acme.sh ꯑꯁꯤ ꯑꯣꯄꯟ ꯁꯣꯔꯁ ꯑꯣꯇꯣꯃꯦꯇꯦꯗ ꯁꯔꯇꯤꯐꯤꯀꯦꯠ ꯁꯥꯏꯟ ꯇꯧꯕꯒꯤ ꯈꯨꯠꯂꯥꯌ ꯑꯃꯅꯤ,

ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯋꯦꯌꯔꯍꯥꯎꯁ ops.soft ꯑꯦꯟꯇꯔ ꯇꯧ, `./ssl.sh` ꯔꯟ ꯇꯧ, ꯑꯃꯁꯨꯡ **ꯃꯊꯛꯀꯤ ꯗꯥꯏꯔꯦꯛꯇꯣꯔꯤꯗꯥ** `conf` ꯐꯣꯜꯗꯔ ꯑꯃꯥ ꯁꯦꯃꯒꯅꯤ.

[acme.sh dnsapi](https://github.com/acmesh-official/acme.sh/wiki/dnsapi) ꯗꯒꯤ ꯅꯍꯥꯛꯀꯤ DNS ꯄ꯭ꯔꯣꯚꯥꯏꯗꯔ ꯑꯗꯨ ꯊꯤꯌꯨ, `conf/conf.sh` ꯑꯦꯗꯤꯠ ꯇꯧ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Qjq1C1i.webp)

ꯃꯗꯨꯒꯤ ꯃꯇꯨꯡꯗꯥ ꯅꯍꯥꯛꯀꯤ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯃꯒꯤꯗꯃꯛ `123.com` ꯑꯃꯁꯨꯡ `*.123.com` ꯁꯔꯇꯤꯐꯤꯀꯦꯇꯁꯤꯡ ꯖꯦꯅꯦꯔꯦꯠ ꯇꯧꯅꯕꯥ `./ssl.sh 123.com` ꯔꯟ ꯇꯧ꯫

ꯑꯍꯥꯅꯕꯥ ꯔꯟ ꯑꯗꯨꯅꯥ ꯃꯁꯥ ꯃꯊꯟꯇꯥ [acme.sh](https://github.com/acmesh-official/acme.sh) ꯏꯅꯁ꯭ꯇꯣꯜ ꯇꯧꯒꯅꯤ ꯑꯃꯁꯨꯡ ꯑꯣꯇꯣꯃꯦꯇꯤꯛ ꯑꯣꯏꯅꯥ ꯔꯤꯟꯌꯨ ꯇꯧꯅꯕꯒꯤꯗꯃꯛ ꯁꯦꯗ꯭ꯌꯨꯜ ꯇꯧꯔꯕꯥ ꯊꯕꯛ ꯑꯃꯥ ꯍꯥꯄꯆꯤꯜꯂꯒꯅꯤ꯫ ꯅꯍꯥꯛꯅꯥ `crontab -l` ꯎꯕꯥ ꯐꯪꯒꯅꯤ, ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯑꯁꯤꯒꯨꯝꯕꯥ ꯂꯥꯏꯟ ꯑꯁꯤ ꯂꯩ꯫

```
52 0 * * * "/mnt/www/.acme.sh"/acme.sh --cron --home "/mnt/www/.acme.sh" > /dev/null
```

ꯖꯦꯅꯦꯔꯦꯠ ꯇꯧꯔꯕꯥ ꯁꯔꯇꯤꯐꯤꯀꯦꯠ ꯑꯗꯨꯒꯤ ꯄꯥꯊ ꯑꯁꯤ `/mnt/www/.acme.sh/123.com_ecc。`

ꯁꯔꯇꯤꯐꯤꯀꯦꯠ ꯔꯤꯟꯌꯨ ꯇꯧꯕꯅꯥ `conf/reload/123.com.sh` ꯁ꯭ꯛꯔꯤꯞꯇ ꯀꯧꯒꯅꯤ, ꯁ꯭ꯛꯔꯤꯞꯇ ꯑꯁꯤ ꯑꯦꯗꯤꯠ ꯇꯧꯒꯅꯤ, ꯅꯍꯥꯛꯅꯥ ꯃꯔꯤ ꯂꯩꯅꯕꯥ ꯑꯦꯞꯂꯤꯀꯦꯁꯅꯁꯤꯡꯒꯤ ꯁꯔꯇꯤꯐꯤꯀꯦꯠ ꯀꯦꯁ ꯔꯤꯐ꯭ꯔꯦꯁ ꯇꯧꯅꯕꯥ `nginx -s reload` ꯀꯃꯥꯟꯗꯁꯤꯡ ꯍꯥꯄꯆꯤꯅꯕꯥ ꯌꯥꯏ꯫

## ꯆꯥꯁ꯭ꯀꯨꯏꯗꯀꯥ ꯂꯣꯌꯅꯅꯥ SMTP ꯁꯔꯚꯔ ꯁꯦꯝꯕꯥ꯫

[chasquid](https://github.com/albertito/chasquid) ꯑꯁꯤ Go ꯂꯣꯟꯗꯥ ꯏꯕꯥ ꯑꯣꯄꯟ ꯁꯣꯔꯁ SMTP ꯁꯔꯚꯔ ꯑꯃꯅꯤ꯫

ꯄꯣꯁ꯭ꯇꯐꯤꯛꯁ ꯑꯃꯁꯨꯡ ꯁꯦꯟꯗꯃꯦꯂꯒꯨꯝꯕꯥ ꯑꯔꯤꯕꯥ ꯃꯦꯜ ꯁꯔꯚꯥꯔ ꯄ꯭ꯔꯣꯒ꯭ꯔꯥꯃꯁꯤꯡꯒꯤ ꯃꯍꯨꯠ ꯁꯤꯅꯕꯥ ꯑꯣꯏꯅꯥ, ꯆꯦꯁꯛꯌꯨꯏꯗ ꯑꯁꯤ ꯍꯦꯟꯅꯥ ꯂꯥꯌꯕꯥ ꯑꯃꯁꯨꯡ ꯁꯤꯖꯤꯟꯅꯕꯗꯥ ꯂꯥꯌꯕꯥ ꯑꯣꯏ, ꯑꯃꯁꯨꯡ ꯃꯁꯤ ꯁꯦꯀꯦꯟꯗꯔꯤ ꯗꯤꯕꯦꯂꯄꯃꯦꯟꯇꯀꯤꯗꯃꯛꯇꯁꯨ ꯍꯦꯟꯅꯥ ꯂꯥꯌꯕꯥ ꯑꯣꯏ꯫

ꯔꯟ ꯇꯧꯕꯥ `./chasquid/init.sh 123.com` ꯀ꯭ꯂꯤꯛ ꯑꯃꯈꯛꯇꯪꯗꯥ ꯑꯣꯇꯣꯃꯦꯇꯤꯛ ꯑꯣꯏꯅꯥ ꯏꯅꯁ꯭ꯇꯣꯜ ꯇꯧꯒꯅꯤ (123.com ꯑꯁꯤ ꯅꯍꯥꯛꯀꯤ ꯊꯥꯔꯀꯄꯥ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯗꯨꯒꯥ ꯃꯍꯨꯠ ꯁꯤꯅꯒꯅꯤ)꯫

## ꯏꯃꯦꯜ ꯁꯤꯒꯅꯦꯆꯔ DKIM ꯀꯅꯐꯤꯒꯔ ꯇꯧꯕꯥ꯫

DKIM ꯑꯁꯤ ꯆꯤꯊꯤꯁꯤꯡꯕꯨ ꯁ꯭ꯄꯦꯝ ꯑꯣꯏꯅꯥ ꯂꯧꯗꯅꯕꯥ ꯏꯃꯦꯏꯜ ꯁꯤꯒꯅꯦꯆꯔꯁꯤꯡ ꯊꯥꯕꯗꯥ ꯁꯤꯖꯤꯟꯅꯩ꯫

ꯀꯃꯥꯟꯗ ꯑꯗꯨ ꯃꯥꯌꯄꯥꯛꯅꯥ ꯆꯠꯂꯕꯥ ꯃꯇꯨꯡꯗꯥ, ꯅꯍꯥꯀꯄꯨ DKIM ꯔꯦꯀꯣꯔꯗ ꯑꯗꯨ ꯁꯦꯠ ꯇꯧꯅꯕꯥ ꯍꯥꯌꯒꯅꯤ (ꯃꯈꯥꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯇꯨꯡꯏꯟꯅꯥ)꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/LJWGsmI.webp)

ꯅꯍꯥꯛꯀꯤ DNSꯗꯥ TXT ꯔꯦꯀꯣꯔꯗ ꯑꯃꯥ ꯍꯥꯄꯆꯤꯜꯂꯨ (ꯃꯈꯥꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯇꯨꯡꯏꯟꯅꯥ)꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/0szKWqV.webp)

## ꯁꯔꯚꯤꯁꯀꯤ ꯁ꯭ꯇꯦꯇꯁ & ꯂꯣꯒꯁꯤꯡ ꯌꯦꯡꯕꯥ꯫

 `systemctl status chasquid` ꯁꯔꯚꯤꯁ ꯁ꯭ꯇꯦꯇꯁ ꯌꯦꯡꯎ꯫

ꯅꯣꯔꯃꯦꯜ ꯑꯣꯄꯔꯦꯁꯅꯒꯤ ꯐꯤꯚꯝ ꯑꯁꯤ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯐꯤꯒꯔ ꯑꯁꯤꯗꯥ ꯎꯠꯂꯤ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/CAwyY4E.webp)

 `grep chasquid /var/log/syslog` ꯅꯠꯔꯒꯥ `journalctl -xeu chasquid` ꯑꯦꯔꯥꯔ ꯂꯣꯒ ꯌꯦꯡꯕꯥ ꯌꯥꯒꯅꯤ꯫

## ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯔꯤꯚꯥꯔꯁ ꯇꯧꯕꯥ꯫

ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯁꯤ IP ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨ ꯃꯔꯤ ꯂꯩꯅꯕꯥ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯗꯨꯗꯥ ꯔꯤꯖꯣꯂꯕ ꯇꯧꯕꯥ ꯌꯥꯍꯅꯕꯅꯤ꯫

ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯃꯥ ꯁꯦꯠ ꯇꯧꯕꯅꯥ ꯏꯃꯦꯏꯂꯁꯤꯡꯕꯨ ꯁ꯭ꯄꯦꯝ ꯑꯣꯏꯅꯥ ꯈꯪꯗꯣꯀꯄꯥ ꯉꯃꯍꯟꯗꯕꯥ ꯌꯥꯏ꯫

ꯃꯦꯏꯜ ꯑꯗꯨ ꯐꯪꯂꯕꯥ ꯃꯇꯃꯗꯥ, ꯔꯤꯁꯤꯚ ꯇꯧꯔꯤꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯅꯥ ꯊꯥꯔꯤꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯒꯤ IP ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨꯗꯥ ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯦꯅꯥꯂꯥꯏꯁꯤꯁ ꯇꯧꯒꯅꯤ ꯑꯃꯁꯨꯡ ꯊꯥꯔꯤꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯗꯥ ꯆꯠꯅꯕꯥ ꯌꯥꯕꯥ ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯃꯥ ꯂꯩꯕ꯭ꯔꯥ ꯍꯥꯌꯕꯗꯨ ꯀꯅꯐꯥꯔꯝ ꯇꯧꯒꯅꯤ꯫

ꯀꯔꯤꯒꯨꯝꯕꯥ ꯊꯥꯔꯤꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯅꯥ ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯃꯥ ꯂꯩꯠꯔꯕꯗꯤ ꯅꯠꯠꯔꯒꯥ ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯗꯨ ꯊꯥꯔꯤꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯒꯤ IP ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨꯒꯥ ꯃꯥꯟꯅꯗꯕꯥ ꯇꯥꯔꯕꯗꯤ, ꯔꯤꯁꯤꯚ ꯇꯧꯔꯤꯕꯥ ꯁꯔꯚꯔ ꯑꯗꯨꯅꯥ ꯏꯃꯦꯏꯜ ꯑꯗꯨ ꯁ꯭ꯄꯦꯝ ꯑꯃꯥ ꯑꯣꯏꯅꯥ ꯈꯪꯖꯤꯅꯕꯥ ꯅꯠꯠꯔꯒꯥ ꯔꯤꯖꯦꯛꯇ ꯇꯧꯕꯥ ꯌꯥꯏ꯫

[https://my.contabo.com/rdns](https://my.contabo.com/rdns) ꯗꯥ ꯆꯪꯕꯤꯌꯨ ꯑꯃꯁꯨꯡ ꯃꯈꯥꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯑꯣꯡꯗꯥ ꯀꯅꯐꯤꯒꯔ ꯇꯧꯕꯤꯌꯨ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/IIPdBk_.webp)

ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯁꯦꯠ ꯇꯧꯔꯕꯥ ꯃꯇꯨꯡꯗꯥ, ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ipv4 ꯑꯃꯁꯨꯡ ipv6ꯒꯤ ꯐꯣꯔꯋꯥꯔꯗ ꯔꯤꯖꯣꯂꯨꯁꯟ ꯑꯗꯨ ꯁꯔꯚꯔꯗꯥ ꯀꯅꯐꯤꯒꯔ ꯇꯧꯕꯥ ꯅꯤꯡꯁꯤꯡꯕꯤꯌꯨ꯫

## chasquid.confꯒꯤ ꯍꯣꯁ꯭ꯇꯅꯦꯝ ꯑꯗꯨ ꯑꯦꯗꯤꯠ ꯇꯧꯔꯣ

`conf/chasquid/chasquid.conf` ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯃꯒꯤ ꯚꯦꯜꯌꯨꯗꯥ ꯃꯣꯗꯤꯐꯥꯏ ꯇꯧꯔꯣ.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/6Fw4SQi.webp)

ꯃꯗꯨꯒꯤ ꯃꯇꯨꯡꯗꯥ ꯁꯔꯚꯤꯁ ꯑꯗꯨ ꯑꯃꯨꯛ ꯍꯟꯅꯥ ꯍꯧꯅꯕꯥ `systemctl restart chasquid` ꯔꯟ ꯇꯧꯔꯣ.

## git ꯔꯤꯄꯣꯖꯤꯇꯔꯤꯗꯥ ꯕꯦꯀꯑꯞ ꯀꯅꯐ ꯇꯧꯕꯥ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Fier9uv.webp)

ꯈꯨꯗꯝ ꯑꯣꯏꯅꯥ, ꯑꯩꯅꯥ conf ꯐꯣꯜꯗꯔ ꯑꯗꯨ ꯑꯩꯒꯤ ꯏꯁꯥꯒꯤ github ꯄ꯭ꯔꯣꯁꯦꯁꯇꯥ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯃꯑꯣꯡ ꯑꯁꯤꯒꯤ ꯃꯇꯨꯡ ꯏꯟꯅꯥ ꯕꯦꯛ ꯇꯧꯏ꯫

ꯑꯍꯥꯅꯕꯗꯥ ꯄ꯭ꯔꯥꯏꯚꯦꯠ ꯋꯦꯌꯔꯍꯥꯎꯁ ꯑꯃꯥ ꯁꯦꯝꯃꯨ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ZSCT1t1.webp)

ꯀꯅꯐ ꯗꯥꯏꯔꯦꯛꯇꯣꯔꯤ ꯑꯗꯨ ꯑꯦꯟꯇꯔ ꯇꯧ ꯑꯃꯁꯨꯡ ꯋꯦꯌꯔꯍꯥꯎꯁꯇꯥ ꯁꯕꯃꯤꯠ ꯇꯧ꯫

```
git init
git add .
git commit -m "init"
git branch -M main
git remote add origin git@github.com:wac-tax-key/conf.git
git push -u origin main
```

## ꯊꯥꯔꯀꯄꯥ ꯃꯤꯑꯣꯏ ꯍꯥꯄꯆꯤꯜꯂꯨ꯫

ꯆꯦꯟꯕ

```
chasquid-util user-add i@wac.tax
```

ꯊꯥꯔꯀꯄꯥ ꯃꯤꯑꯣꯏ ꯍꯥꯄꯆꯤꯅꯕꯥ ꯌꯥꯏ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/khHjLof.webp)

### ꯄꯥꯁꯋꯥꯔꯗ ꯑꯗꯨ ꯃꯌꯦꯛ ꯁꯦꯡꯅꯥ ꯁꯦꯠ ꯇꯧꯔꯦ ꯍꯥꯌꯕꯥ ꯚꯦꯔꯤꯐꯥꯏ ꯇꯧꯔꯣ

```
chasquid-util authenticate i@wac.tax --password=xxxxxxx
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/e92JHXq.webp)

ꯌꯨꯖꯔ ꯑꯗꯨ ꯍꯥꯄꯆꯤꯜꯂꯕꯥ ꯃꯇꯨꯡꯗꯥ, `chasquid/domains/wac.tax/users` ꯑꯄꯗꯦꯠ ꯇꯧꯒꯅꯤ, ꯃꯁꯤ ꯋꯦꯌꯔꯍꯥꯎꯁꯇꯥ ꯁꯕꯃꯤꯠ ꯇꯧꯕꯥ ꯅꯤꯡꯁꯤꯡꯕꯤꯌꯨ꯫

## DNSꯅꯥ SPF ꯔꯦꯀꯣꯔꯗ ꯑꯃꯥ ꯍꯥꯄꯆꯤꯜꯂꯤ꯫

SPF ( ꯁꯦꯟꯗꯔ ꯄꯣꯂꯤꯁꯤ ꯐ꯭ꯔꯦꯃꯋꯥꯔꯛ ) ꯑꯁꯤ ꯏꯃꯦꯏꯜ ꯐ꯭ꯔꯣꯗ ꯊꯤꯡꯅꯕꯥ ꯁꯤꯖꯤꯟꯅꯕꯥ ꯏꯃꯦꯏꯜ ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯟ ꯇꯦꯛꯅꯣꯂꯣꯖꯤ ꯑꯃꯅꯤ꯫

ꯃꯁꯤꯅꯥ ꯃꯦꯏꯜ ꯊꯥꯔꯀꯄꯥ ꯃꯤꯑꯣꯏ ꯑꯃꯒꯤ ꯑꯥꯏꯗꯦꯟꯇꯤꯇꯤ ꯑꯗꯨ ꯚꯦꯔꯤꯐꯥꯏ ꯇꯧꯏ, ꯃꯁꯤꯅꯥ ꯊꯥꯔꯀꯄꯥ ꯃꯤꯑꯣꯏ ꯑꯗꯨꯒꯤ IP ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨ ꯃꯍꯥꯛꯅꯥ ꯀ꯭ꯂꯦꯝ ꯇꯧꯔꯤꯕꯥ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯗꯨꯒꯤ DNS ꯔꯦꯀꯣꯔꯗꯁꯤꯡꯒꯥ ꯃꯥꯟꯅꯕ꯭ꯔꯥ ꯍꯥꯌꯕꯗꯨ ꯌꯦꯡꯁꯤꯜꯂꯤ, ꯃꯗꯨꯅꯥ ꯐ꯭ꯔꯣꯗꯁ꯭ꯇꯔꯁꯤꯡꯅꯥ ꯑꯔꯥꯅꯕꯥ ꯏꯃꯦꯏꯂꯁꯤꯡ ꯊꯥꯕꯥ ꯉꯃꯍꯟꯗꯦ꯫

SPF ꯔꯦꯀꯣꯔꯗꯁꯤꯡ ꯍꯥꯄꯆꯤꯅꯕꯅꯥ ꯏꯃꯦꯏꯂꯁꯤꯡꯕꯨ ꯌꯥꯔꯤꯕꯃꯈꯩ ꯁ꯭ꯄꯦꯝ ꯑꯣꯏꯅꯥ ꯈꯪꯗꯣꯀꯄꯥ ꯉꯃꯍꯟꯗꯕꯥ ꯌꯥꯏ꯫

ꯀꯔꯤꯒꯨꯝꯕꯥ ꯅꯍꯥꯛꯀꯤ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯁꯔꯚꯔꯅꯥ SPF ꯃꯈꯜ ꯑꯗꯨ ꯁꯄꯣꯔꯠ ꯇꯧꯗ꯭ꯔꯕꯗꯤ, TXT ꯃꯈꯜ ꯔꯦꯀꯣꯔꯗ ꯑꯗꯨ ꯈꯛꯇꯃꯛ ꯍꯥꯄꯆꯤꯜꯂꯨ꯫

ꯈꯨꯗꯝ ꯑꯣꯏꯅꯥ, `wac.tax` SPF ꯑꯁꯤ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤ꯫

`v=spf1 a mx include:_spf.wac.tax include:_spf.google.com ~all`

`_spf.wac.tax` ꯑꯦꯁ.ꯄꯤ.ꯑꯦꯐ

`v=spf1 a:smtp.wac.tax ~all`

ꯑꯩꯅꯥ ꯃꯐꯃꯁꯤꯗꯥ `include:_spf.google.com` ꯌꯥꯑꯣꯔꯦ ꯍꯥꯌꯕꯥ ꯈꯉꯕꯤꯌꯨ, ꯃꯁꯤꯒꯤ ꯃꯔꯃꯗꯤ ꯑꯩꯅꯥ ꯇꯨꯡꯗꯥ ꯒꯨꯒꯜ ꯃꯦꯂꯕꯣꯛꯁꯇꯥ ꯊꯥꯔꯀꯄꯥ ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯣꯏꯅꯥ `i@wac.tax` ꯀꯅꯐꯤꯒꯔ ꯇꯧꯒꯅꯤ꯫

## DNS ꯀꯅꯐꯤꯒꯔꯦꯁꯟ DMARC

DMARC ꯑꯁꯤ (ꯗꯣꯃꯦꯏꯅꯗꯥ ꯌꯨꯝꯐꯝ ꯑꯣꯏꯕꯥ ꯃꯦꯁꯦꯖ ꯑꯣꯊꯦꯟꯇꯤꯀꯦꯁꯟ, ꯔꯤꯄꯣꯔꯇꯤꯡ & ꯀꯅꯐꯣꯔꯃꯦꯟꯁ)ꯒꯤ ꯑꯦꯕꯕ꯭ꯔꯤꯚꯤꯌꯔꯅꯤ꯫

ꯃꯁꯤ SPF ꯕꯥꯎꯟꯁꯁꯤꯡ (ꯀꯅꯐꯤꯒꯔꯦꯁꯅꯒꯤ ꯑꯁꯣꯌꯕꯁꯤꯡꯅꯥ ꯃꯔꯝ ꯑꯣꯏꯗꯨꯅꯥ ꯑꯣꯏꯕꯥ ꯌꯥꯏ, ꯅꯠꯠꯔꯒꯥ ꯑꯇꯣꯞꯄꯥ ꯀꯅꯥꯒꯨꯝꯕꯥ ꯑꯃꯅꯥ ꯁ꯭ꯄꯦꯝ ꯊꯥꯅꯕꯥ ꯅꯍꯥꯛꯅꯥ ꯑꯣꯏꯅꯥ ꯂꯧꯕꯥ ꯌꯥꯏ) ꯀꯦꯄꯆꯔ ꯇꯧꯕꯗꯥ ꯁꯤꯖꯤꯟꯅꯩ꯫

ꯇꯤ.ꯑꯦꯛꯁ.ꯇꯤ.ꯒꯤ ꯔꯦꯀꯣꯔꯗ `_dmarc` , .

ꯀꯟꯇꯦꯟꯇ ꯑꯁꯤ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤ꯫

```
v=DMARC1; p=quarantine; fo=1; ruf=mailto:ruf@wac.tax; rua=mailto:rua@wac.tax
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/k44P7O3.webp)

ꯄꯦꯔꯥꯃꯤꯇꯔ ꯈꯨꯗꯤꯡꯃꯛꯀꯤ ꯑꯔꯊꯗꯤ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤ꯫

### ꯄꯤ (ꯄꯣꯂꯤꯁꯤ) ꯑꯃꯁꯨꯡ ꯑꯦꯟ.

SPF (ꯁꯦꯟꯗꯔ ꯄꯣꯂꯤꯁꯤ ꯐ꯭ꯔꯦꯃꯋꯥꯔꯛ) ꯅꯠꯠꯔꯒꯥ DKIM (DomainKeys Identified Mail) ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯅꯗꯥ ꯁꯣꯀꯍꯜꯂꯕꯥ ꯏꯃꯦꯏꯂꯁꯤꯡ ꯑꯗꯨ ꯀꯔꯝꯅꯥ ꯍꯦꯟꯗꯜ ꯇꯧꯒꯗꯒꯦ ꯍꯥꯌꯕꯗꯨ ꯇꯥꯀꯏ꯫ p ꯄꯦꯔꯥꯃꯤꯇꯔ ꯑꯁꯤ ꯚꯦꯜꯌꯨ ꯑꯍꯨꯃꯒꯤ ꯃꯅꯨꯡꯗꯥ ꯑꯃꯗꯥ ꯁꯦꯠ ꯇꯧꯕꯥ ꯌꯥꯏ:

* ꯑꯃꯠꯇꯥ ꯂꯩꯇꯦ: ꯑꯦꯛꯁꯟ ꯑꯃꯠꯇꯥ ꯂꯧꯗꯦ, ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯅꯒꯤ ꯔꯤꯖꯜꯇ ꯑꯗꯨ ꯈꯛꯇꯃꯛ ꯏꯃꯦꯏꯜ ꯔꯤꯄꯣꯔꯇꯤꯡ ꯃꯦꯀꯥꯅꯤꯖꯃꯒꯤ ꯈꯨꯠꯊꯥꯡꯗꯥ ꯊꯥꯔꯀꯄꯥ ꯃꯤꯑꯣꯏ ꯑꯗꯨꯗꯥ ꯄꯤ꯫
* ꯀ꯭ꯕꯥꯔꯦꯟꯇꯥꯏꯟ: ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯟ ꯄꯥꯁ ꯇꯧꯗꯕꯥ ꯃꯦꯏꯜ ꯑꯗꯨ ꯁ꯭ꯄꯦꯝ ꯐꯣꯜꯗꯔꯗꯥ ꯊꯝꯃꯨ, ꯑꯗꯨꯕꯨ ꯃꯦꯏꯜ ꯑꯗꯨ ꯍꯀꯊꯦꯡꯅꯅꯥ ꯔꯤꯖꯦꯛꯇ ꯇꯧꯔꯣꯏ꯫
* reject: ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯟ ꯇꯧꯕꯥ ꯉꯃꯗꯕꯥ ꯏꯃꯦꯏꯂꯁꯤꯡ ꯍꯀꯊꯦꯡꯅꯅꯥ ꯔꯤꯖꯦꯛꯇ ꯇꯧꯕꯥ꯫

### fo (ꯐꯦꯜ ꯑꯣꯏꯕꯥ ꯑꯣꯄꯁꯅꯁꯤꯡ)

ꯔꯤꯄꯣꯔꯇꯤꯡ ꯃꯦꯀꯥꯅꯤꯖꯃꯅꯥ ꯍꯜꯂꯀꯄꯥ ꯏꯅꯐꯣꯔꯃꯦꯁꯅꯒꯤ ꯆꯥꯡ ꯑꯗꯨ ꯇꯥꯀꯏ꯫ ꯃꯁꯤ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯚꯦꯜꯌꯨꯁꯤꯡ ꯑꯁꯤꯒꯤ ꯃꯅꯨꯡꯗꯥ ꯑꯃꯗꯥ ꯁꯦꯠ ꯇꯧꯕꯥ ꯌꯥꯏ:

* ꯰: ꯃꯦꯁꯦꯖ ꯄꯨꯝꯅꯃꯛꯀꯤ ꯚꯦꯂꯤꯗꯦꯁꯅꯒꯤ ꯔꯤꯖꯜꯇꯁꯤꯡ ꯔꯤꯄꯣꯔꯠ ꯇꯧꯕꯥ꯫
* ꯱: ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯟ ꯇꯧꯕꯥ ꯉꯃꯗꯕꯥ ꯃꯦꯁꯦꯖ ꯈꯛꯇꯃꯛ ꯔꯤꯄꯣꯔꯠ ꯇꯧꯕꯥ꯫
* d: ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯅꯒꯤ ꯐꯂꯁꯤꯡ ꯈꯛꯇꯃꯛ ꯔꯤꯄꯣꯔꯠ ꯇꯧꯕꯥ꯫
* s: SPF ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯅꯒꯤ ꯐꯂꯁꯤꯡ ꯈꯛꯇꯃꯛ ꯔꯤꯄꯣꯔꯠ ꯇꯧꯕꯥ꯫
* l: ꯗꯤ.ꯀꯦ.ꯑꯥꯏ.ꯑꯦꯝ.ꯒꯤ ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯅꯒꯤ ꯐꯂꯁꯤꯡ ꯈꯛꯇꯃꯛ ꯔꯤꯄꯣꯔꯠ ꯇꯧꯕꯥ꯫

### ꯔꯨꯌꯥ ꯑꯃꯁꯨꯡ ꯔꯨꯐ꯫

* rua (ꯑꯦꯒ꯭ꯔꯤꯒꯦꯠ ꯔꯤꯄꯣꯔꯇꯁꯤꯡꯒꯤꯗꯃꯛꯇꯥ URI ꯔꯤꯄꯣꯔꯠ ꯇꯧꯕꯥ): ꯑꯦꯒ꯭ꯔꯤꯒꯦꯠ ꯇꯧꯔꯕꯥ ꯔꯤꯄꯣꯔꯇꯁꯤꯡ ꯐꯪꯅꯕꯒꯤꯗꯃꯛ ꯏꯃꯦꯏꯜ ꯑꯦꯗ꯭ꯔꯦꯁ꯫
* ruf (ꯐꯣꯔꯦꯟꯁꯤꯛ ꯔꯤꯄꯣꯔꯇꯁꯤꯡꯒꯤꯗꯃꯛꯇꯥ URI ꯔꯤꯄꯣꯔꯠ ꯇꯧꯕꯥ): ꯑꯀꯨꯞꯄꯥ ꯔꯤꯄꯣꯔꯇꯁꯤꯡ ꯐꯪꯅꯕꯒꯤꯗꯃꯛ ꯏꯃꯦꯏꯜ ꯑꯦꯗ꯭ꯔꯦꯁ꯫

## ꯒꯨꯒꯜ ꯃꯦꯂꯗꯥ ꯏꯃꯦꯏꯂꯁꯤꯡ ꯐꯣꯔꯋꯥꯔꯗ ꯇꯧꯅꯕꯥ MX ꯔꯦꯀꯣꯔꯗꯁꯤꯡ ꯍꯥꯄꯆꯤꯜꯂꯨ꯫

ꯌꯨꯅꯤꯚꯔꯁꯦꯜ ꯑꯦꯗ꯭ꯔꯦꯁꯁꯤꯡ ꯁꯄꯣꯔꯠ ꯇꯧꯕꯥ ꯐ꯭ꯔꯤ ꯀꯣꯔꯄꯣꯔꯦꯠ ꯃꯦꯂꯕꯣꯛꯁ ꯑꯃꯥ ꯐꯪꯗꯕꯅꯥ ꯃꯔꯝ ꯑꯣꯏꯗꯨꯅꯥ (ꯀꯦꯆ-ꯑꯣꯜ, ꯗꯣꯃꯦꯏꯟ ꯅꯦꯝ ꯑꯁꯤꯗꯥ ꯊꯥꯔꯀꯄꯥ ꯏꯃꯦꯏꯜ ꯑꯃꯠꯇꯥ ꯂꯧꯕꯥ ꯌꯥꯏ, ꯄ꯭ꯔꯤꯐꯤꯛꯁꯁꯤꯡꯗꯥ ꯑꯊꯤꯡꯕꯥ ꯂꯩꯇꯅꯥ), ꯑꯩꯅꯥ ꯏꯃꯦꯜ ꯄꯨꯝꯅꯃꯛ ꯑꯩꯒꯤ ꯖꯤꯃꯦꯏꯜ ꯃꯦꯂꯕꯣꯛꯁꯇꯥ ꯐꯣꯔꯋꯥꯔꯗ ꯇꯧꯅꯕꯥ ꯆꯦꯁꯛꯌꯨꯏꯗ ꯁꯤꯖꯤꯟꯅꯈꯤ꯫

**ꯀꯔꯤꯒꯨꯝꯕꯥ ꯅꯍꯥꯛꯀꯤ ꯏꯁꯥꯒꯤ ꯄꯦꯃꯦꯟꯇ ꯇꯧꯔꯕꯥ ꯕꯤꯖꯅꯦꯁ ꯃꯦꯂꯕꯣꯛꯁ ꯂꯩꯔꯕꯗꯤ, ꯆꯥꯅꯕꯤꯗꯨꯅꯥ MX ꯑꯗꯨ ꯃꯣꯗꯤꯐꯥꯏ ꯇꯧꯕꯤꯒꯅꯨ ꯑꯃꯁꯨꯡ ꯁ꯭ꯇꯦꯞ ꯑꯁꯤ ꯊꯥꯗꯣꯀꯎ꯫**

`conf/chasquid/domains/wac.tax/aliases` ꯑꯦꯗꯤꯠ ꯇꯧ, ꯐꯣꯔꯋꯥꯔꯗ ꯇꯧꯕꯥ ꯃꯦꯂꯕꯣꯛꯁ ꯁꯦꯠ ꯇꯧ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/OBDl2gw.webp)

`*` ꯏꯃꯦꯜ ꯄꯨꯝꯅꯃꯛ ꯇꯥꯀꯏ, `i` ꯑꯁꯤ ꯃꯊꯛꯇꯥ ꯁꯦꯃꯈꯤꯕꯥ ꯊꯥꯔꯀꯄꯥ ꯌꯨꯖꯔꯒꯤ ꯏꯃꯦꯜ ꯑꯦꯗ꯭ꯔꯦꯁ ꯄ꯭ꯔꯤꯐꯤꯛꯁꯅꯤ꯫ ꯃꯦꯏꯜ ꯐꯣꯔꯋꯥꯔꯗ ꯇꯧꯅꯕꯒꯤꯗꯃꯛ, ꯌꯨꯖꯔ ꯈꯨꯗꯤꯡꯃꯛꯅꯥ ꯂꯥꯏꯟ ꯑꯃꯥ ꯍꯥꯄꯆꯤꯅꯕꯥ ꯃꯊꯧ ꯇꯥꯏ꯫

ꯃꯗꯨꯒꯤ ꯃꯇꯨꯡꯗꯥ MX ꯔꯦꯀꯣꯔꯗ ꯑꯗꯨ ꯍꯥꯄꯆꯤꯜꯂꯨ (ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯐꯤꯒꯔ ꯑꯁꯤꯗꯥ ꯑꯍꯥꯅꯕꯥ ꯂꯥꯏꯟꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯇꯨꯡ ꯏꯟꯅꯥ, ꯑꯩꯅꯥ ꯃꯐꯃꯁꯤꯗꯥ ꯔꯤꯚꯥꯔꯁ ꯗꯣꯃꯦꯏꯟ ꯅꯦꯃꯒꯤ ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨ ꯍꯀꯊꯦꯡꯅꯅꯥ ꯇꯥꯀꯏ)꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/7__KrU8.webp)

ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯑꯗꯨ ꯂꯣꯌꯔꯕꯥ ꯃꯇꯨꯡꯗꯥ, ꯅꯍꯥꯛꯅꯥ ꯑꯇꯣꯞꯄꯥ ꯏꯃꯦꯏꯜ ꯑꯦꯗ꯭ꯔꯦꯁꯁꯤꯡ ꯁꯤꯖꯤꯟꯅꯗꯨꯅꯥ `i@wac.tax` ꯑꯃꯁꯨꯡ `any123@wac.tax` ꯗꯥ ꯏꯃꯦꯏꯜ ꯊꯥꯕꯥ ꯌꯥꯏ, ꯅꯍꯥꯛꯅꯥ ꯖꯤꯃꯦꯏꯂꯗꯥ ꯏꯃꯦꯏꯂꯁꯤꯡ ꯂꯧꯕꯥ ꯌꯥꯕ꯭ꯔꯥ ꯍꯥꯌꯕꯗꯨ ꯌꯦꯡꯅꯕꯥ꯫

ꯀꯔꯤꯒꯨꯝꯕꯥ ꯅꯠꯇꯦ, ꯆꯦꯁꯛꯌꯨꯏꯗ ꯂꯣꯒ ( `grep chasquid /var/log/syslog` ) ꯑꯗꯨ ꯆꯦꯛ ꯇꯧ꯫

## ꯒꯨꯒꯜ ꯃꯦꯂꯒꯥ ꯂꯣꯌꯅꯅꯥ i@wac.tax ꯗꯥ ꯏꯃꯦꯜ ꯊꯥꯕꯤꯌꯨ꯫

ꯒꯨꯒꯜ ꯃꯦꯂꯅꯥ ꯃꯦꯜ ꯑꯗꯨ ꯐꯪꯂꯕꯥ ꯃꯇꯨꯡꯗꯥ ꯑꯩꯍꯥꯛꯅꯥ ꯃꯍꯧꯁꯥꯅꯥ i.wac.tax@gmail.com ꯒꯤ ꯃꯍꯨꯠꯇꯥ `i@wac.tax` ꯍꯥꯌꯅꯥ ꯄꯥꯎꯈꯨꯝ ꯄꯤꯒꯅꯤ ꯍꯥꯌꯅꯥ ꯑꯥꯁꯥ ꯇꯧꯈꯤ꯫

[https://mail.google.com/mail/u/1/#settings/accounts](https://mail.google.com/mail/u/1/#settings/accounts) ꯗꯥ ꯆꯪꯕꯤꯌꯨ ꯑꯃꯁꯨꯡ "ꯑꯇꯣꯞꯄꯥ ꯏꯃꯦꯏꯜ ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯃꯥ ꯍꯥꯄꯆꯤꯜꯂꯨ" ꯀ꯭ꯂꯤꯛ ꯇꯧꯕꯤꯌꯨ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/PAvyE3C.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/_OgLsPT.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/XIUf6Dc.webp)

ꯃꯗꯨꯒꯤ ꯃꯇꯨꯡꯗꯥ, ꯐꯣꯔꯋꯥꯔꯗ ꯇꯧꯈꯤꯕꯥ ꯏꯃꯦꯏꯜ ꯑꯗꯨꯅꯥ ꯐꯪꯈꯤꯕꯥ ꯚꯦꯔꯤꯐꯤꯀꯦꯁꯟ ꯀꯣꯗ ꯑꯗꯨ ꯑꯦꯟꯇꯔ ꯇꯧ꯫

ꯑꯔꯣꯏꯕꯗꯥ, ꯃꯁꯤ ꯗꯤꯐꯣꯜꯇ ꯁꯦꯟꯗꯔ ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯣꯏꯅꯥ ꯁꯦꯠ ꯇꯧꯕꯥ ꯌꯥꯏ (ꯆꯞ ꯃꯥꯟꯅꯕꯥ ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨꯒꯥ ꯂꯣꯌꯅꯅꯥ ꯄꯥꯎꯈꯨꯝ ꯄꯤꯕꯒꯤ ꯑꯣꯄꯁꯅꯒꯥ ꯂꯣꯌꯅꯅꯥ)꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/a95dO60.webp)

ꯃꯁꯤꯒꯤ ꯃꯑꯣꯡ ꯑꯁꯤꯅꯥ ꯑꯩꯈꯣꯌꯅꯥ SMTP ꯃꯦꯜ ꯁꯔꯚꯥꯔ ꯂꯤꯡꯈꯠꯄꯥ ꯂꯣꯏꯁꯤꯅꯈ꯭ꯔꯦ ꯑꯃꯁꯨꯡ ꯃꯁꯤꯒꯥ ꯂꯣꯌꯅꯅꯥ ꯏꯃꯦꯜ ꯊꯥꯕꯥ ꯑꯃꯁꯨꯡ ꯂꯧꯕꯗꯥ ꯒꯨꯒꯜ ꯃꯦꯜ ꯁꯤꯖꯤꯟꯅꯔꯤ꯫

## ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯑꯗꯨ ꯃꯥꯌꯄꯥꯛꯂꯦꯕ꯭ꯔꯥ ꯍꯥꯌꯕꯗꯨ ꯆꯦꯛ ꯇꯧꯅꯕꯥ ꯇꯦꯁ꯭ꯠ ꯏꯃꯦꯏꯜ ꯑꯃꯥ ꯊꯥꯕꯤꯌꯨ꯫

`ops/chasquid` ꯑꯦꯟꯇꯔ ꯇꯧꯔꯣ꯫

ꯔꯟ ꯇꯧꯕꯥ `direnv allow` (direnv ꯑꯁꯤ ꯃꯃꯥꯡꯒꯤ ꯋꯥꯟ-ꯀꯤ ꯏꯅꯤꯁꯤꯑꯦꯂꯥꯏꯖꯦꯁꯟ ꯄ꯭ꯔꯣꯁꯦꯁꯇꯥ ꯏꯅꯁ꯭ꯇꯣꯜ ꯇꯧꯈ꯭ꯔꯦ ꯑꯃꯁꯨꯡ ꯁꯦꯂꯗꯥ ꯍꯨꯛ ꯑꯃꯥ ꯍꯥꯄꯆꯤꯜꯂꯦ)

ꯑꯗꯨꯗꯒꯤ ꯆꯠꯂꯨ꯫

```
user=i@wac.tax pass=xxxx to=iuser.link@gmail.com ./sendmail.coffee
```

ꯄꯦꯔꯥꯃꯤꯇꯔꯁꯤꯡꯒꯤ ꯑꯔꯊꯗꯤ ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤ꯫

* ꯌꯨꯖꯔ: SMTP ꯌꯨꯖꯔꯅꯦꯝ꯫
* ꯄꯥꯁ ꯇꯧꯕꯥ: SMTP ꯄꯥꯁꯋꯥꯔꯗ꯫
* to: ꯔꯤꯁꯤꯄꯤꯌꯔ ꯇꯧꯕꯥ꯫

ꯅꯍꯥꯛꯅꯥ ꯇꯦꯁ꯭ꯠ ꯏꯃꯦꯏꯜ ꯑꯃꯥ ꯊꯥꯕꯥ ꯌꯥꯏ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ae1iWyM.webp)

ꯀꯅꯐꯤꯒꯔꯦꯁꯅꯁꯤꯡ ꯑꯁꯤ ꯃꯥꯌ ꯄꯥꯛꯂꯕ꯭ꯔꯥ ꯍꯥꯌꯕꯗꯨ ꯌꯦꯡꯅꯕꯒꯤꯗꯃꯛ ꯇꯦꯁ꯭ꯠ ꯏꯃꯦꯏꯂꯁꯤꯡ ꯐꯪꯅꯕꯒꯤꯗꯃꯛ ꯖꯤꯃꯦꯏꯜ ꯁꯤꯖꯤꯟꯅꯅꯕꯥ ꯄꯥꯎꯇꯥꯛ ꯄꯤꯔꯤ꯫

### TLS ꯁ꯭ꯇꯦꯟꯗꯔꯗ ꯑꯦꯅꯛꯔꯤꯄꯁꯟ ꯇꯧꯕꯥ꯫

ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯐꯤꯒꯔ ꯑꯁꯤꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯇꯨꯡ ꯏꯟꯅꯥ, ꯃꯁꯤꯒꯤ ꯑꯄꯤꯀꯄꯥ ꯂꯣꯛ ꯑꯁꯤ ꯂꯩ, ꯃꯁꯤꯅꯥ ꯇꯥꯀꯄꯗꯤ SSL ꯁꯔꯇꯤꯐꯤꯀꯦꯠ ꯑꯁꯤ ꯃꯥꯌꯄꯥꯛꯅꯥ ꯏꯅꯦꯕꯜ ꯇꯧꯔꯦ ꯍꯥꯌꯕꯅꯤ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/SrdbAwh.webp)

ꯃꯗꯨꯒꯤ ꯃꯇꯨꯡꯗꯥ "ꯑꯔꯤꯖꯤꯅꯦꯜ ꯏꯃꯦꯜ ꯎꯠꯄꯥ" ꯗꯥ ꯀ꯭ꯂꯤꯛ ꯇꯧꯔꯣ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/qQQsdxg.webp)

### ꯗꯤ.ꯀꯦ.ꯑꯥꯏ.ꯑꯦꯝ

ꯃꯈꯥꯗꯥ ꯄꯤꯔꯤꯕꯥ ꯐꯤꯒꯔ ꯑꯁꯤꯗꯥ ꯎꯠꯂꯤꯕꯥ ꯃꯇꯨꯡ ꯏꯟꯅꯥ, Gmail ꯑꯣꯔꯤꯖꯤꯅꯦꯜ ꯃꯦꯜ ꯄꯦꯖ ꯑꯗꯨꯅꯥ DKIM ꯎꯠꯂꯤ, ꯃꯁꯤꯅꯥ DKIM ꯀꯅꯐꯤꯒꯔꯦꯁꯟ ꯑꯗꯨ ꯃꯥꯌꯄꯥꯛꯂꯦ ꯍꯥꯌꯕꯅꯤ꯫

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/an6aXK6.webp)

ꯑꯔꯤꯖꯤꯅꯦꯜ ꯏꯃꯦꯏꯂꯒꯤ ꯍꯦꯗꯇꯥ Received ꯆꯦꯛ ꯇꯧ, ꯑꯃꯁꯨꯡ ꯅꯍꯥꯛꯅꯥ ꯊꯥꯔꯀꯄꯥ ꯑꯦꯗ꯭ꯔꯦꯁ ꯑꯗꯨ IPV6ꯅꯤ ꯍꯥꯌꯕꯥ ꯎꯕꯥ ꯐꯪꯒꯅꯤ, ꯃꯁꯤꯅꯥ ꯇꯥꯀꯄꯗꯤ IPV6ꯁꯨ ꯃꯥꯌꯄꯥꯛꯅꯥ ꯀꯅꯐꯤꯒꯔ ꯇꯧꯔꯦ ꯍꯥꯌꯕꯅꯤ꯫
